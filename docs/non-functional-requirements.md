# ⚙️ 非機能設計書（Non-Functional Requirements）

本ドキュメントでは、パフォーマンス、可用性、セキュリティ、対応端末、バックアップなどの非機能要件を定義します。

---

## 1. パフォーマンス

| 項目                   | 内容                                                                                |
| ---------------------- | ----------------------------------------------------------------------------------- |
| 応答時間               | ユーザー操作に対する主要 API の応答時間は **95%以上を 1 秒以内** とする             |
| 同時接続数（将来想定） | 現時点では少人数利用を想定するが、将来的には 100 同時接続まで拡張可能な構成を目指す |

<!--
🔍 **補足：**「1 秒以内」だけでなく「95%以上」と書くことで、実用的な目標になります。
-->

---

## 2. 可用性

| 項目       | 内容                                                               |
| ---------- | ------------------------------------------------------------------ |
| 月間稼働率 | **99.9%以上** を目指す（1 ヶ月あたりダウンタイム目安は 43 分以内） |
| 障害時対応 | 障害発生時には Slack などで通知（将来的な運用体制を見据えた構成）  |

<!--
🔍 **補足：** ダウンタイム目安を具体的に記載することで現実感が出ます。
-->

---

## 3. セキュリティ

| 項目       | 内容                                                                                               |
| ---------- | -------------------------------------------------------------------------------------------------- |
| 通信       | **HTTPS** を利用し、通信内容を暗号化                                                               |
| 認証・認可 | **Firebase Authentication** による Google ログインで安全性を確保                                   |
| 脆弱性対策 | SQL インジェクション、XSS 等の基本的な Web 攻撃に対してはライブラリ／ORM で対応（SQLAlchemy など） |
| API 認証   | バックエンド API へのアクセスは**認証済ユーザーのみに限定**                                        |

<!--
🔍 **補足： 脆弱性対策を「どの技術で行うか」まで明示。
-->

---

## 4. 対応端末・ブラウザ

| 項目         | 内容                                                                                                                      |
| ------------ | ------------------------------------------------------------------------------------------------------------------------- |
| 対応ブラウザ | **Chrome / Safari の最新版および直前バージョン**（iOS 向け）                                                              |
| モバイル対応 | **モバイルファースト UI**設計とし、スマホでの快適な操作性を重視                                                           |
| 音声入力制限 | 一部ブラウザ（例：Android 版 Chrome など）では MediaRecorder 未対応のため、**非対応端末では利用不可メッセージを表示予定** |

<!--
🔍 **補足：** 音声APIの仕様差異も非機能として記載しておくと◎
-->

---

## 5. バックアップとリカバリ

| 項目            | 内容                                                         |
| --------------- | ------------------------------------------------------------ |
| DB バックアップ | PostgreSQL にて **1 日 1 回の自動バックアップ**を設定予定    |
| リストア対応    | バックアップからの復元手順はマニュアル化予定（自動化は任意） |

<!--
🔍 **補足：** 「リストア」対応も触れておくと実用性アップ。
-->

---

## 6. 将来的な拡張性・CI/CD

| 項目           | 内容                                                                           |
| -------------- | ------------------------------------------------------------------------------ |
| CI/CD          | GitHub Actions を用いて PR ごとの `lint / test / build` を自動化               |
| モジュール設計 | 主要機能を**責務ごとに分割（録音・記録・フィードバック）**し、再利用しやすい構成を目指す |

---

## 📌 補足

- 利用者は小学生と保護者を想定
- 重大なデータは扱わないが、**個人情報・音声データを扱うため、プライバシー保護は重視**
- 録音データは保存しないポリシー（テキスト化後に破棄）
