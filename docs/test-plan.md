# 🧪 テスト設計書（Test Plan）

<!--
【No付番ルール】
- T-01〜：認証
- T-10〜：録音・文字起こし
- T-20〜：会話記録表示
- ~~T-30〜：世界地図ピン（削除済み）~~
- T-40〜：セキュリティ関連
 -->

## 1. 認証まわり

| No   | テスト項目          | 操作手順                                           | 期待結果                             | 優先度 |
| ---- | ------------------- | -------------------------------------------------- | ------------------------------------ | ------ |
| T-01 | Google ログイン成功 | トップ画面 → ログインボタンを押す → アカウント選択 | トップ画面に戻り、ログイン状態になる | P1     |
| T-02 | ログアウトできる    | ヘッダーの「ログアウト」ボタンを押す               | ログイン前の画面に戻る               | P1     |

---

## 2. 録音と文字起こし機能

| No   | テスト項目                           | 操作手順                                 | 期待結果                                       | 優先度 |
| ---- | ------------------------------------ | ---------------------------------------- | ---------------------------------------------- | ------ |
| T-10 | 音声録音ができる                     | 録音開始ボタン → 音声を話す → 停止ボタン | 音声が録音され、テキスト化が始まる             | P1     |
| T-11 | Whisper API で正しく文字起こしされる | 上記後、処理を待つ                       | 音声内容が正確にテキスト化される               | P1     |
| T-12 | 音声なしの場合はエラーを出す         | 無音で録音 → 送信                        | 「音声が認識できません」などのメッセージが出る | P2     |

---

## 3. 会話記録と表示機能

| No   | テスト項目                       | 操作手順                    | 期待結果                               | 優先度 |
| ---- | -------------------------------- | --------------------------- | -------------------------------------- | ------ |
| T-20 | 会話履歴が DB に保存される       | 会話完了後に保存実行        | 日時・国名・文字起こし内容が保存される | P1     |
| T-21 | 履歴画面に最新の記録が表示される | トップ → 履歴一覧画面に遷移 | 最新の会話記録が上部に表示される       | P1     |

---

## 4. ~~世界地図ピン表示（発展機能）~~ 削除済み

~~削除理由: ユースケースとクリティカルパスを見直した結果、コア機能（録音・記録・フィードバック）に集中するため~~

---

## 5. その他（未ログイン時のアクセス制限など）

| No   | テスト項目                       | 操作手順     | 期待結果                           | 優先度 |
| ---- | -------------------------------- | ------------ | ---------------------------------- | ------ |
| T-40 | 未ログインで履歴ページにアクセス | URL を直打ち | 「ログインが必要です」と表示される | P1     |
